# RFC 7807 Problem Details error response
# https://tools.ietf.org/html/rfc7807
ProblemDetails:
  type: object
  description: RFC 7807 Problem Details error response
  properties:
    type:
      type: string
      format: uri
      description: A URI reference that identifies the problem type
      example: https://docs.pistachiohq.com/errors/not_found
    title:
      type: string
      description: A short, human-readable summary of the problem type
      example: Project not found
    status:
      type: integer
      description: The HTTP status code
      example: 404
    detail:
      type: string
      description: A human-readable explanation specific to this occurrence
      example: Project 'my-project' not found
    instance:
      type: string
      format: uri
      description: A URI reference that identifies the specific occurrence
      example: /admin/v1/projects/my-project
    invalidParams:
      type: array
      description: |
        Extension member for validation errors. Contains details about which
        parameters failed validation and why.
      items:
        $ref: '#/InvalidParam'
  required:
    - type
    - title
    - status

# Individual invalid parameter in a validation error
InvalidParam:
  type: object
  description: Details about an invalid parameter in a validation error
  properties:
    name:
      type: string
      description: The name of the invalid parameter
      example: sort
    reason:
      type: string
      description: A human-readable explanation of why the parameter is invalid
      example: Invalid value
    value:
      type: string
      description: The invalid value that was provided
      example: foo
    expectedValues:
      type: array
      description: The list of valid/expected values for this parameter
      items:
        type: string
      example: ["project_id", "created_at", "display_name"]
  required:
    - name
    - reason
