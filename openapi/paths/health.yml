health:
  get:
    operationId: checkHealth
    summary: Check service health
    description: Returns the health status of the service.
    tags:
      - Health
    parameters:
      - name: service
        in: query
        required: false
        description: The service name to check. If empty, checks overall service health.
        schema:
          type: string
          maxLength: 256
    responses:
      '200':
        description: Health check response
        content:
          application/json:
            schema:
              $ref: '../components/schemas/health.yml#/CheckResponse'
            example:
              status: SERVING_STATUS_SERVING
      '400':
        description: Invalid service parameter
        content:
          application/json:
            schema:
              $ref: '../components/schemas/error.yml#/ProblemDetails'
            example:
              type: https://docs.pistachiohq.com/errors/invalid_argument
              title: Invalid Argument
              status: 400
              detail: "service: unknown service name"
      '500':
        $ref: '../components/responses/errors.yml#/InternalServerError'
      '503':
        $ref: '../components/responses/errors.yml#/ServiceUnavailable'
