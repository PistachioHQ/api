openapi: 3.1.0
info:
    title: Pistachio API
    description: |
        API for end-to-end encrypted applications.
    version: 0.1.0
    contact:
        name: Pistachio Team
servers:
    - url: https://api.pistachiohq.com/v1
      description: Production server
    - url: https://api.staging.pistachiohq.com/v1
      description: Staging server
tags:
    - name: Health
      description: Service health checks
    - name: Auth
      description: Authentication and authorization endpoints
    - name: MFA
      description: Multi-factor authentication endpoints
    - name: User
      description: User self-service endpoints
paths:
    /health:
        get:
            operationId: checkHealth
            summary: Check service health
            description: Returns the health status of the service.
            tags:
                - Health
            parameters:
                - name: service
                  in: query
                  required: false
                  description: The service name to check. If empty, checks overall service health.
                  schema:
                    type: string
                    maxLength: 256
            responses:
                '200':
                    description: Health check response
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Health check response
                                properties:
                                    status:
                                        type: string
                                        description: Represents the health state of a service
                                        example: SERVING_STATUS_SERVING
                                        enum:
                                            - SERVING_STATUS_UNSPECIFIED
                                            - SERVING_STATUS_SERVING
                                            - SERVING_STATUS_NOT_SERVING
                                required:
                                    - status
                            example:
                                status: SERVING_STATUS_SERVING
                '400':
                    description: Invalid service parameter
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/invalid_argument
                                title: Invalid Argument
                                status: 400
                                detail: "service: unknown service name"
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/validate-key:
        get:
            operationId: validateApiKey
            summary: Validate API key
            description: Validates that the provided API key is valid.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
            responses:
                '200':
                    description: API key is valid
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response indicating whether credentials are valid
                                properties:
                                    valid:
                                        type: boolean
                                        description: Whether the provided credentials are valid
                                        example: true
                                required:
                                    - valid
                            example:
                                valid: true
                '401':
                    description: Invalid or missing API key
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unauthenticated
                                title: Unauthenticated
                                status: 401
                                detail: Invalid or missing API key
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /user/me:
        get:
            operationId: getCurrentUser
            summary: Get current user
            description: |
                Gets the profile of the currently authenticated user.
            tags:
                - User
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            responses:
                '200':
                    description: Current user profile
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing the current user's profile.
                                properties:
                                    user:
                                        type: object
                                        description: The current authenticated user's profile.
                                        required:
                                            - pistachioId
                                            - emailVerified
                                            - disabled
                                            - createdAt
                                        properties:
                                            pistachioId:
                                                type: string
                                                description: The user's unique identifier.
                                                pattern: '^[a-fA-F0-9]{30}00$'
                                                example: a1b2c3d4e5f6789012345678901234500
                                            tenantId:
                                                type:
                                                    - string
                                                    - 'null'
                                                description: Tenant ID if the user belongs to a tenant.
                                                example: my-tenant
                                            email:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: email
                                                description: The user's email address.
                                                example: user@example.com
                                            emailVerified:
                                                type: boolean
                                                description: Whether the email address has been verified.
                                                example: true
                                            phoneNumber:
                                                type:
                                                    - string
                                                    - 'null'
                                                pattern: '^\+[1-9]\d{1,14}$'
                                                description: The user's phone number in E.164 format.
                                                example: "+14155551234"
                                            displayName:
                                                type:
                                                    - string
                                                    - 'null'
                                                description: The user's display name.
                                                maxLength: 256
                                                example: John Doe
                                            photoUrl:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: uri
                                                description: URL to the user's profile photo.
                                                example: "https://example.com/photo.jpg"
                                            disabled:
                                                type: boolean
                                                description: Whether the account is disabled.
                                                example: false
                                            createdAt:
                                                type: string
                                                format: date-time
                                                description: When the account was created.
                                                example: "2024-01-15T10:30:00Z"
                                            lastSignInAt:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: date-time
                                                description: When the user last signed in.
                                                example: "2024-01-20T14:45:00Z"
                                            providers:
                                                type: array
                                                description: Linked authentication providers.
                                                items:
                                                    type: object
                                                    description: An authentication provider linked to the user's account.
                                                    properties:
                                                        providerId:
                                                            type: string
                                                            description: The provider identifier.
                                                            example: google.com
                                                        providerType:
                                                            type: string
                                                            enum:
                                                                - PDPKA
                                                                - OAUTH
                                                                - OIDC
                                                                - ANONYMOUS
                                                            description: The type of provider.
                                                            example: OAUTH
                                                        federatedId:
                                                            type: string
                                                            description: The user's ID with this provider.
                                                            example: "1234567890"
                                                        email:
                                                            type:
                                                                - string
                                                                - 'null'
                                                            format: email
                                                            description: Email from this provider.
                                                            example: user@gmail.com
                                                        displayName:
                                                            type:
                                                                - string
                                                                - 'null'
                                                            description: Display name from this provider.
                                                            example: John Doe
                                                        photoUrl:
                                                            type:
                                                                - string
                                                                - 'null'
                                                            format: uri
                                                            description: Photo URL from this provider.
                                                            example: "https://lh3.googleusercontent.com/..."
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
        patch:
            operationId: updateCurrentUser
            summary: Update current user
            description: |
                Updates the profile of the currently authenticated user.
                Only display name and photo URL can be updated.
                Email and phone changes require verification flows.
            tags:
                - User
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            requestBody:
                description: Profile update parameters
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            description: |
                                Request body for updating the current user's profile.
                                Only provided fields are updated.
                            properties:
                                displayName:
                                    type:
                                        - string
                                        - 'null'
                                    description: New display name. Set to null to clear.
                                    maxLength: 256
                                    example: Jane Doe
                                photoUrl:
                                    type:
                                        - string
                                        - 'null'
                                    format: uri
                                    description: New photo URL. Set to null to clear.
                                    example: "https://example.com/newphoto.jpg"
            responses:
                '200':
                    description: User profile updated
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing the updated user profile.
                                properties:
                                    user:
                                        type: object
                                        description: The current authenticated user's profile.
                                        required:
                                            - pistachioId
                                            - emailVerified
                                            - disabled
                                            - createdAt
                                        properties:
                                            pistachioId:
                                                type: string
                                                description: The user's unique identifier.
                                                pattern: '^[a-fA-F0-9]{30}00$'
                                                example: a1b2c3d4e5f6789012345678901234500
                                            tenantId:
                                                type:
                                                    - string
                                                    - 'null'
                                                description: Tenant ID if the user belongs to a tenant.
                                                example: my-tenant
                                            email:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: email
                                                description: The user's email address.
                                                example: user@example.com
                                            emailVerified:
                                                type: boolean
                                                description: Whether the email address has been verified.
                                                example: true
                                            phoneNumber:
                                                type:
                                                    - string
                                                    - 'null'
                                                pattern: '^\+[1-9]\d{1,14}$'
                                                description: The user's phone number in E.164 format.
                                                example: "+14155551234"
                                            displayName:
                                                type:
                                                    - string
                                                    - 'null'
                                                description: The user's display name.
                                                maxLength: 256
                                                example: John Doe
                                            photoUrl:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: uri
                                                description: URL to the user's profile photo.
                                                example: "https://example.com/photo.jpg"
                                            disabled:
                                                type: boolean
                                                description: Whether the account is disabled.
                                                example: false
                                            createdAt:
                                                type: string
                                                format: date-time
                                                description: When the account was created.
                                                example: "2024-01-15T10:30:00Z"
                                            lastSignInAt:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: date-time
                                                description: When the user last signed in.
                                                example: "2024-01-20T14:45:00Z"
                                            providers:
                                                type: array
                                                description: Linked authentication providers.
                                                items:
                                                    type: object
                                                    description: An authentication provider linked to the user's account.
                                                    properties:
                                                        providerId:
                                                            type: string
                                                            description: The provider identifier.
                                                            example: google.com
                                                        providerType:
                                                            type: string
                                                            enum:
                                                                - PDPKA
                                                                - OAUTH
                                                                - OIDC
                                                                - ANONYMOUS
                                                            description: The type of provider.
                                                            example: OAUTH
                                                        federatedId:
                                                            type: string
                                                            description: The user's ID with this provider.
                                                            example: "1234567890"
                                                        email:
                                                            type:
                                                                - string
                                                                - 'null'
                                                            format: email
                                                            description: Email from this provider.
                                                            example: user@gmail.com
                                                        displayName:
                                                            type:
                                                                - string
                                                                - 'null'
                                                            description: Display name from this provider.
                                                            example: John Doe
                                                        photoUrl:
                                                            type:
                                                                - string
                                                                - 'null'
                                                            format: uri
                                                            description: Photo URL from this provider.
                                                            example: "https://lh3.googleusercontent.com/..."
                '400':
                    description: Invalid update parameters
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
        delete:
            operationId: deleteCurrentUser
            summary: Delete current user
            description: |
                Permanently deletes the currently authenticated user's account.
                This operation is irreversible.
            tags:
                - User
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            responses:
                '204':
                    description: Account deleted
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/validate-token:
        get:
            operationId: validateToken
            summary: Validate bearer token
            description: Validates that the provided bearer token is valid.
            tags:
                - Auth
            security:
                - BearerAuth: []
            responses:
                '200':
                    description: Token is valid
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response indicating whether credentials are valid
                                properties:
                                    valid:
                                        type: boolean
                                        description: Whether the provided credentials are valid
                                        example: true
                                required:
                                    - valid
                            example:
                                valid: true
                '401':
                    description: Invalid or missing token
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unauthenticated
                                title: Unauthenticated
                                status: 401
                                detail: Invalid or missing token
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/validate-service-account:
        get:
            operationId: validateServiceAccount
            summary: Validate service account
            description: Validates that the provided service account credential is valid.
            tags:
                - Auth
            security:
                - ServiceAccountAuth: []
            responses:
                '200':
                    description: Service account credential is valid
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response indicating whether credentials are valid
                                properties:
                                    valid:
                                        type: boolean
                                        description: Whether the provided credentials are valid
                                        example: true
                                required:
                                    - valid
                            example:
                                valid: true
                '401':
                    description: Invalid or missing service account credential
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unauthenticated
                                title: Unauthenticated
                                status: 401
                                detail: Invalid or missing service account credential
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/signout:
        post:
            operationId: signOut
            summary: Sign out
            description: |
                Signs out the current user by invalidating their session.
                Optionally revokes the refresh token or all sessions.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            requestBody:
                description: Sign out parameters
                required: false
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for signing out.
                            properties:
                                refreshToken:
                                    type: string
                                    description: |
                                        Optional refresh token to revoke.
                                        If not provided, only the current session is invalidated.
                                    example: AMf-vBw7abc123def456...
                                allSessions:
                                    type: boolean
                                    description: |
                                        Whether to revoke all sessions for the user.
                                        Requires a valid ID token in the Authorization header.
                                    default: false
                                    example: false
            responses:
                '204':
                    description: Successfully signed out
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /user/me/sessions:
        get:
            operationId: listSessions
            summary: List active sessions
            description: |
                Lists all active sessions for the current user.
                Includes information about device, IP address, and last activity.
            tags:
                - User
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            responses:
                '200':
                    description: List of sessions
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing the user's active sessions.
                                properties:
                                    sessions:
                                        type: array
                                        items:
                                            type: object
                                            description: An active user session.
                                            properties:
                                                sessionId:
                                                    type: string
                                                    description: Unique session identifier.
                                                    example: session-abc123
                                                userAgent:
                                                    type:
                                                        - string
                                                        - 'null'
                                                    description: User agent string from the session.
                                                    example: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)"
                                                ipAddress:
                                                    type:
                                                        - string
                                                        - 'null'
                                                    description: IP address of the session.
                                                    example: "192.168.1.100"
                                                createdAt:
                                                    type: string
                                                    format: date-time
                                                    description: When the session was created.
                                                    example: "2024-01-15T10:30:00Z"
                                                lastActiveAt:
                                                    type: string
                                                    format: date-time
                                                    description: When the session was last active.
                                                    example: "2024-01-20T14:45:00Z"
                                                current:
                                                    type: boolean
                                                    description: Whether this is the current session.
                                                    example: true
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /user/me/sessions/{sessionId}:
        delete:
            operationId: deleteSession
            summary: Delete a session
            description: |
                Revokes a specific session, signing out that device.
                Cannot delete the current session (use sign out instead).
            tags:
                - User
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            parameters:
                - name: sessionId
                  in: path
                  description: The session ID to revoke
                  required: true
                  schema:
                    type: string
            responses:
                '204':
                    description: Session revoked
                '400':
                    description: Cannot delete current session
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '404':
                    description: Session not found
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/token/refresh:
        post:
            operationId: refreshToken
            summary: Refresh tokens
            description: |
                Exchanges a refresh token for a new ID token and refresh token.
                Use this when the ID token has expired.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
            requestBody:
                description: Token refresh parameters
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for refreshing tokens.
                            required:
                                - refreshToken
                            properties:
                                refreshToken:
                                    type: string
                                    description: The refresh token to exchange for new tokens.
                                    example: AMf-vBw7abc123def456...
            responses:
                '200':
                    description: Tokens refreshed
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing authentication tokens.
                                required:
                                    - idToken
                                    - refreshToken
                                    - expiresIn
                                properties:
                                    idToken:
                                        type: string
                                        description: |
                                            JWT ID token for authenticating API requests.
                                            Include this in the Authorization header as "Bearer {idToken}".
                                        example: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
                                    refreshToken:
                                        type: string
                                        description: |
                                            Refresh token for obtaining new ID tokens.
                                            Use this with the token refresh endpoint when the ID token expires.
                                        example: AMf-vBw7abc123def456...
                                    expiresIn:
                                        type: integer
                                        format: int64
                                        description: Number of seconds until the ID token expires.
                                        example: 3600
                                    pistachioId:
                                        type: string
                                        description: The user's pistachio_id.
                                        pattern: '^[a-fA-F0-9]{30}00$'
                                        example: a1b2c3d4e5f6789012345678901234500
                                    isNewUser:
                                        type: boolean
                                        description: Whether this is a newly created user (for anonymous auth).
                                        example: false
                '400':
                    description: Invalid request
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: Invalid or expired refresh token
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/token/exchange:
        post:
            operationId: exchangeToken
            summary: Exchange custom token
            description: |
                Exchanges a custom token (created via Admin API) for ID and refresh tokens.
                Used for server-side authentication flows.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
            requestBody:
                description: Token exchange parameters
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for exchanging a custom token for ID tokens.
                            required:
                                - customToken
                            properties:
                                customToken:
                                    type: string
                                    description: |
                                        The custom token received from your server.
                                        Custom tokens are created using the Admin API's createCustomToken endpoint.
                                    example: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
            responses:
                '200':
                    description: Tokens issued
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing authentication tokens.
                                required:
                                    - idToken
                                    - refreshToken
                                    - expiresIn
                                properties:
                                    idToken:
                                        type: string
                                        description: |
                                            JWT ID token for authenticating API requests.
                                            Include this in the Authorization header as "Bearer {idToken}".
                                        example: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
                                    refreshToken:
                                        type: string
                                        description: |
                                            Refresh token for obtaining new ID tokens.
                                            Use this with the token refresh endpoint when the ID token expires.
                                        example: AMf-vBw7abc123def456...
                                    expiresIn:
                                        type: integer
                                        format: int64
                                        description: Number of seconds until the ID token expires.
                                        example: 3600
                                    pistachioId:
                                        type: string
                                        description: The user's pistachio_id.
                                        pattern: '^[a-fA-F0-9]{30}00$'
                                        example: a1b2c3d4e5f6789012345678901234500
                                    isNewUser:
                                        type: boolean
                                        description: Whether this is a newly created user (for anonymous auth).
                                        example: false
                '400':
                    description: Invalid request
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: Invalid or expired custom token
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /user/me/providers:
        get:
            operationId: listLinkedProviders
            summary: List linked providers
            description: |
                Lists authentication providers linked to the current user's account.
            tags:
                - User
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            responses:
                '200':
                    description: List of linked providers
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing the user's linked providers.
                                properties:
                                    providers:
                                        type: array
                                        items:
                                            type: object
                                            description: An authentication provider linked to the user's account.
                                            properties:
                                                providerId:
                                                    type: string
                                                    description: The provider identifier.
                                                    example: google.com
                                                providerType:
                                                    type: string
                                                    enum:
                                                        - PDPKA
                                                        - OAUTH
                                                        - OIDC
                                                        - ANONYMOUS
                                                    description: The type of provider.
                                                    example: OAUTH
                                                federatedId:
                                                    type: string
                                                    description: The user's ID with this provider.
                                                    example: "1234567890"
                                                email:
                                                    type:
                                                        - string
                                                        - 'null'
                                                    format: email
                                                    description: Email from this provider.
                                                    example: user@gmail.com
                                                displayName:
                                                    type:
                                                        - string
                                                        - 'null'
                                                    description: Display name from this provider.
                                                    example: John Doe
                                                photoUrl:
                                                    type:
                                                        - string
                                                        - 'null'
                                                    format: uri
                                                    description: Photo URL from this provider.
                                                    example: "https://lh3.googleusercontent.com/..."
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
        post:
            operationId: linkProvider
            summary: Link a provider
            description: |
                Links an additional authentication provider to the current user's account.
                This allows the user to sign in using multiple providers.
            tags:
                - User
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            requestBody:
                description: Provider link parameters
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for linking an authentication provider.
                            required:
                                - providerId
                            properties:
                                providerId:
                                    type: string
                                    description: |
                                        The provider ID to link.
                                        For OAuth providers: google, facebook, github, etc.
                                        For OIDC providers: the custom provider ID.
                                    example: google
                                idToken:
                                    type: string
                                    description: |
                                        ID token from the provider to link.
                                        Used for OAuth/OIDC providers.
                                    example: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
                                accessToken:
                                    type: string
                                    description: |
                                        Access token from the provider.
                                        Used for some OAuth providers.
                                    example: ya29.abc123...
            responses:
                '200':
                    description: Provider linked
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response after linking a provider.
                                properties:
                                    provider:
                                        type: object
                                        description: An authentication provider linked to the user's account.
                                        properties:
                                            providerId:
                                                type: string
                                                description: The provider identifier.
                                                example: google.com
                                            providerType:
                                                type: string
                                                enum:
                                                    - PDPKA
                                                    - OAUTH
                                                    - OIDC
                                                    - ANONYMOUS
                                                description: The type of provider.
                                                example: OAUTH
                                            federatedId:
                                                type: string
                                                description: The user's ID with this provider.
                                                example: "1234567890"
                                            email:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: email
                                                description: Email from this provider.
                                                example: user@gmail.com
                                            displayName:
                                                type:
                                                    - string
                                                    - 'null'
                                                description: Display name from this provider.
                                                example: John Doe
                                            photoUrl:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: uri
                                                description: Photo URL from this provider.
                                                example: "https://lh3.googleusercontent.com/..."
                                    user:
                                        type: object
                                        description: The current authenticated user's profile.
                                        required:
                                            - pistachioId
                                            - emailVerified
                                            - disabled
                                            - createdAt
                                        properties:
                                            pistachioId:
                                                type: string
                                                description: The user's unique identifier.
                                                pattern: '^[a-fA-F0-9]{30}00$'
                                                example: a1b2c3d4e5f6789012345678901234500
                                            tenantId:
                                                type:
                                                    - string
                                                    - 'null'
                                                description: Tenant ID if the user belongs to a tenant.
                                                example: my-tenant
                                            email:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: email
                                                description: The user's email address.
                                                example: user@example.com
                                            emailVerified:
                                                type: boolean
                                                description: Whether the email address has been verified.
                                                example: true
                                            phoneNumber:
                                                type:
                                                    - string
                                                    - 'null'
                                                pattern: '^\+[1-9]\d{1,14}$'
                                                description: The user's phone number in E.164 format.
                                                example: "+14155551234"
                                            displayName:
                                                type:
                                                    - string
                                                    - 'null'
                                                description: The user's display name.
                                                maxLength: 256
                                                example: John Doe
                                            photoUrl:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: uri
                                                description: URL to the user's profile photo.
                                                example: "https://example.com/photo.jpg"
                                            disabled:
                                                type: boolean
                                                description: Whether the account is disabled.
                                                example: false
                                            createdAt:
                                                type: string
                                                format: date-time
                                                description: When the account was created.
                                                example: "2024-01-15T10:30:00Z"
                                            lastSignInAt:
                                                type:
                                                    - string
                                                    - 'null'
                                                format: date-time
                                                description: When the user last signed in.
                                                example: "2024-01-20T14:45:00Z"
                                            providers:
                                                type: array
                                                description: Linked authentication providers.
                                                items:
                                                    type: object
                                                    description: An authentication provider linked to the user's account.
                                                    properties:
                                                        providerId:
                                                            type: string
                                                            description: The provider identifier.
                                                            example: google.com
                                                        providerType:
                                                            type: string
                                                            enum:
                                                                - PDPKA
                                                                - OAUTH
                                                                - OIDC
                                                                - ANONYMOUS
                                                            description: The type of provider.
                                                            example: OAUTH
                                                        federatedId:
                                                            type: string
                                                            description: The user's ID with this provider.
                                                            example: "1234567890"
                                                        email:
                                                            type:
                                                                - string
                                                                - 'null'
                                                            format: email
                                                            description: Email from this provider.
                                                            example: user@gmail.com
                                                        displayName:
                                                            type:
                                                                - string
                                                                - 'null'
                                                            description: Display name from this provider.
                                                            example: John Doe
                                                        photoUrl:
                                                            type:
                                                                - string
                                                                - 'null'
                                                            format: uri
                                                            description: Photo URL from this provider.
                                                            example: "https://lh3.googleusercontent.com/..."
                '400':
                    description: Invalid provider credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '409':
                    description: Provider already linked to another account
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/email/verify:
        post:
            operationId: sendEmailVerification
            summary: Send email verification
            description: |
                Sends an email verification link to the authenticated user's email address.
                Requires a valid ID token.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            requestBody:
                description: Email verification parameters
                required: false
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for sending an email verification link.
                            properties:
                                continueUrl:
                                    type: string
                                    format: uri
                                    description: |
                                        Optional URL to redirect to after email verification.
                                        Must be whitelisted in the project's authorized domains.
                                    example: "https://myapp.com/verified"
            responses:
                '200':
                    description: Verification email sent
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response confirming email verification was sent.
                                properties:
                                    email:
                                        type: string
                                        format: email
                                        description: The email address the verification was sent to.
                                        example: user@example.com
                '400':
                    description: User has no email address
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '429':
                    description: Too many requests
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /user/me/providers/{provider}:
        delete:
            operationId: unlinkProvider
            summary: Unlink a provider
            description: |
                Unlinks an authentication provider from the current user's account.
                Cannot unlink the last provider (user must have at least one sign-in method).
            tags:
                - User
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            parameters:
                - name: provider
                  in: path
                  description: The provider ID to unlink
                  required: true
                  schema:
                    type: string
            responses:
                '204':
                    description: Provider unlinked
                '400':
                    description: Cannot unlink last provider
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '404':
                    description: Provider not linked
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/email/confirm:
        post:
            operationId: confirmEmailVerification
            summary: Confirm email verification
            description: |
                Confirms email verification using the code from the verification email.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
            requestBody:
                description: Email confirmation parameters
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for confirming email verification.
                            required:
                                - oobCode
                            properties:
                                oobCode:
                                    type: string
                                    description: |
                                        The out-of-band verification code from the email link.
                                    example: abc123def456
            responses:
                '200':
                    description: Email verified
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response confirming email was verified.
                                properties:
                                    email:
                                        type: string
                                        format: email
                                        description: The verified email address.
                                        example: user@example.com
                                    emailVerified:
                                        type: boolean
                                        description: Confirmation that the email is now verified.
                                        example: true
                '400':
                    description: Invalid or expired verification code
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/anonymous:
        post:
            operationId: signInAnonymously
            summary: Sign in anonymously
            description: |
                Creates an anonymous user account and returns authentication tokens.
                Anonymous users can later be linked to a permanent identity.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
            requestBody:
                description: Anonymous auth parameters
                required: false
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for anonymous authentication.
                            properties:
                                tenantId:
                                    type:
                                        - string
                                        - 'null'
                                    description: Optional tenant ID for multi-tenant projects.
                                    example: my-tenant
            responses:
                '200':
                    description: Anonymous user created and authenticated
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing authentication tokens.
                                required:
                                    - idToken
                                    - refreshToken
                                    - expiresIn
                                properties:
                                    idToken:
                                        type: string
                                        description: |
                                            JWT ID token for authenticating API requests.
                                            Include this in the Authorization header as "Bearer {idToken}".
                                        example: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
                                    refreshToken:
                                        type: string
                                        description: |
                                            Refresh token for obtaining new ID tokens.
                                            Use this with the token refresh endpoint when the ID token expires.
                                        example: AMf-vBw7abc123def456...
                                    expiresIn:
                                        type: integer
                                        format: int64
                                        description: Number of seconds until the ID token expires.
                                        example: 3600
                                    pistachioId:
                                        type: string
                                        description: The user's pistachio_id.
                                        pattern: '^[a-fA-F0-9]{30}00$'
                                        example: a1b2c3d4e5f6789012345678901234500
                                    isNewUser:
                                        type: boolean
                                        description: Whether this is a newly created user (for anonymous auth).
                                        example: false
                '400':
                    description: Invalid request
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '403':
                    description: Anonymous authentication is disabled
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/oauth/{provider}/authorize:
        get:
            operationId: oauthAuthorize
            summary: Start OAuth flow
            description: |
                Initiates an OAuth authentication flow with the specified provider.
                Redirects the user to the provider's authorization page.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
            parameters:
                - name: provider
                  in: path
                  description: OAuth provider (e.g., google, facebook, github)
                  required: true
                  schema:
                    type: string
                    enum:
                        - google
                        - facebook
                        - github
                        - apple
                        - microsoft
                        - twitter
                - name: redirect_uri
                  in: query
                  description: URI to redirect to after authorization
                  required: true
                  schema:
                    type: string
                    format: uri
                - name: state
                  in: query
                  description: Opaque state value for CSRF protection
                  required: true
                  schema:
                    type: string
                    maxLength: 1024
                - name: scopes
                  in: query
                  description: Comma-separated OAuth scopes
                  required: false
                  schema:
                    type: string
                - name: tenant_id
                  in: query
                  description: Tenant ID for multi-tenant projects
                  required: false
                  schema:
                    type: string
            responses:
                '302':
                    description: Redirect to OAuth provider
                    headers:
                        Location:
                            description: OAuth provider authorization URL
                            schema:
                                type: string
                                format: uri
                '400':
                    description: Invalid parameters
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '403':
                    description: OAuth provider is not enabled
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/oauth/{provider}/callback:
        post:
            operationId: oauthCallback
            summary: Complete OAuth flow
            description: |
                Completes an OAuth authentication flow by exchanging the authorization
                code for tokens and creating/signing in the user.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
            parameters:
                - name: provider
                  in: path
                  description: OAuth provider
                  required: true
                  schema:
                    type: string
                    enum:
                        - google
                        - facebook
                        - github
                        - apple
                        - microsoft
                        - twitter
            requestBody:
                description: OAuth callback parameters
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for OAuth callback processing.
                            required:
                                - code
                                - state
                            properties:
                                code:
                                    type: string
                                    description: The authorization code from the OAuth provider.
                                    example: 4/0AX4XfWh...
                                state:
                                    type: string
                                    description: The state parameter from the original authorize request.
                                    example: random-state-value
                                redirectUri:
                                    type: string
                                    format: uri
                                    description: The redirect URI used in the authorize request.
                                    example: "https://myapp.com/callback"
            responses:
                '200':
                    description: Authentication successful
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing authentication tokens.
                                required:
                                    - idToken
                                    - refreshToken
                                    - expiresIn
                                properties:
                                    idToken:
                                        type: string
                                        description: |
                                            JWT ID token for authenticating API requests.
                                            Include this in the Authorization header as "Bearer {idToken}".
                                        example: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
                                    refreshToken:
                                        type: string
                                        description: |
                                            Refresh token for obtaining new ID tokens.
                                            Use this with the token refresh endpoint when the ID token expires.
                                        example: AMf-vBw7abc123def456...
                                    expiresIn:
                                        type: integer
                                        format: int64
                                        description: Number of seconds until the ID token expires.
                                        example: 3600
                                    pistachioId:
                                        type: string
                                        description: The user's pistachio_id.
                                        pattern: '^[a-fA-F0-9]{30}00$'
                                        example: a1b2c3d4e5f6789012345678901234500
                                    isNewUser:
                                        type: boolean
                                        description: Whether this is a newly created user (for anonymous auth).
                                        example: false
                '400':
                    description: Invalid code or state
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: OAuth authentication failed
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/oidc/{providerId}/authorize:
        get:
            operationId: oidcAuthorize
            summary: Start OIDC flow
            description: |
                Initiates an OIDC authentication flow with a custom OIDC provider.
                Redirects the user to the provider's authorization page.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
            parameters:
                - name: providerId
                  in: path
                  description: Custom OIDC provider ID configured in the project
                  required: true
                  schema:
                    type: string
                - name: redirect_uri
                  in: query
                  description: URI to redirect to after authorization
                  required: true
                  schema:
                    type: string
                    format: uri
                - name: state
                  in: query
                  description: Opaque state value for CSRF protection
                  required: true
                  schema:
                    type: string
                    maxLength: 1024
                - name: scopes
                  in: query
                  description: Comma-separated OIDC scopes
                  required: false
                  schema:
                    type: string
                - name: tenant_id
                  in: query
                  description: Tenant ID for multi-tenant projects
                  required: false
                  schema:
                    type: string
            responses:
                '302':
                    description: Redirect to OIDC provider
                    headers:
                        Location:
                            description: OIDC provider authorization URL
                            schema:
                                type: string
                                format: uri
                '400':
                    description: Invalid parameters
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '403':
                    description: OIDC provider is not enabled
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '404':
                    description: OIDC provider not found
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/oidc/{providerId}/callback:
        post:
            operationId: oidcCallback
            summary: Complete OIDC flow
            description: |
                Completes an OIDC authentication flow by exchanging the authorization
                code for tokens and creating/signing in the user.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
            parameters:
                - name: providerId
                  in: path
                  description: Custom OIDC provider ID
                  required: true
                  schema:
                    type: string
            requestBody:
                description: OIDC callback parameters
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for OAuth callback processing.
                            required:
                                - code
                                - state
                            properties:
                                code:
                                    type: string
                                    description: The authorization code from the OAuth provider.
                                    example: 4/0AX4XfWh...
                                state:
                                    type: string
                                    description: The state parameter from the original authorize request.
                                    example: random-state-value
                                redirectUri:
                                    type: string
                                    format: uri
                                    description: The redirect URI used in the authorize request.
                                    example: "https://myapp.com/callback"
            responses:
                '200':
                    description: Authentication successful
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing authentication tokens.
                                required:
                                    - idToken
                                    - refreshToken
                                    - expiresIn
                                properties:
                                    idToken:
                                        type: string
                                        description: |
                                            JWT ID token for authenticating API requests.
                                            Include this in the Authorization header as "Bearer {idToken}".
                                        example: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
                                    refreshToken:
                                        type: string
                                        description: |
                                            Refresh token for obtaining new ID tokens.
                                            Use this with the token refresh endpoint when the ID token expires.
                                        example: AMf-vBw7abc123def456...
                                    expiresIn:
                                        type: integer
                                        format: int64
                                        description: Number of seconds until the ID token expires.
                                        example: 3600
                                    pistachioId:
                                        type: string
                                        description: The user's pistachio_id.
                                        pattern: '^[a-fA-F0-9]{30}00$'
                                        example: a1b2c3d4e5f6789012345678901234500
                                    isNewUser:
                                        type: boolean
                                        description: Whether this is a newly created user (for anonymous auth).
                                        example: false
                '400':
                    description: Invalid code or state
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: OIDC authentication failed
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '404':
                    description: OIDC provider not found
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/providers:
        get:
            operationId: listAuthProviders
            summary: List authentication providers
            description: |
                Lists the available authentication providers for the project.
                Use this to display available sign-in options to users.
            tags:
                - Auth
            security:
                - ApiKeyAuth: []
            parameters:
                - name: tenant_id
                  in: query
                  description: Optional tenant ID for multi-tenant projects
                  required: false
                  schema:
                    type: string
            responses:
                '200':
                    description: List of auth providers
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing available auth providers.
                                properties:
                                    providers:
                                        type: array
                                        description: List of available authentication providers.
                                        items:
                                            type: object
                                            description: An available authentication provider.
                                            properties:
                                                providerId:
                                                    type: string
                                                    description: Provider identifier.
                                                    example: google.com
                                                providerType:
                                                    type: string
                                                    enum:
                                                        - PDPKA
                                                        - OAUTH
                                                        - OIDC
                                                        - SAML
                                                        - ANONYMOUS
                                                    description: The type of authentication provider.
                                                    example: OAUTH
                                                displayName:
                                                    type:
                                                        - string
                                                        - 'null'
                                                    description: Human-readable name for the provider.
                                                    example: Google
                                                enabled:
                                                    type: boolean
                                                    description: Whether the provider is enabled.
                                                    example: true
                '400':
                    description: Invalid request
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/mfa/factors:
        get:
            operationId: listMfaFactors
            summary: List user's MFA factors
            description: |
                Lists the authenticated user's enrolled MFA factors.
            tags:
                - MFA
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            responses:
                '200':
                    description: List of MFA factors
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing the user's MFA factors.
                                properties:
                                    factors:
                                        type: array
                                        items:
                                            type: object
                                            description: An MFA factor enrolled by the user.
                                            properties:
                                                factorId:
                                                    type: string
                                                    description: Unique factor identifier.
                                                    example: factor-abc123
                                                factorType:
                                                    type: string
                                                    enum:
                                                        - TOTP
                                                        - SMS
                                                        - EMAIL
                                                    description: The type of MFA factor.
                                                    example: TOTP
                                                displayName:
                                                    type:
                                                        - string
                                                        - 'null'
                                                    description: User-provided name for the factor.
                                                    example: My Authenticator
                                                verified:
                                                    type: boolean
                                                    description: Whether the factor has been verified.
                                                    example: true
                                                createdAt:
                                                    type: string
                                                    format: date-time
                                                    description: When the factor was enrolled.
                                                    example: "2024-01-15T10:30:00Z"
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
        post:
            operationId: enrollMfaFactor
            summary: Enroll an MFA factor
            description: |
                Begins enrollment of a new MFA factor for the authenticated user.
                For TOTP, returns the secret to display as a QR code.
                For SMS/email, sends a verification code.
            tags:
                - MFA
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            requestBody:
                description: MFA enrollment parameters
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for enrolling an MFA factor.
                            required:
                                - factorType
                            properties:
                                factorType:
                                    type: string
                                    enum:
                                        - TOTP
                                        - SMS
                                        - EMAIL
                                    description: The type of factor to enroll.
                                    example: TOTP
                                displayName:
                                    type: string
                                    description: User-provided name for the factor.
                                    maxLength: 256
                                    example: My Authenticator
                                phoneNumber:
                                    type: string
                                    pattern: '^\+[1-9]\d{1,14}$'
                                    description: Phone number for SMS factor (E.164 format).
                                    example: "+14155551234"
            responses:
                '200':
                    description: Factor enrollment started
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing enrollment information.
                                properties:
                                    factorId:
                                        type: string
                                        description: The ID of the enrolled factor.
                                        example: factor-abc123
                                    totpSecret:
                                        type: string
                                        description: |
                                            Base32-encoded TOTP secret (for TOTP factors).
                                            Display this as a QR code or manual entry key.
                                        example: JBSWY3DPEHPK3PXP
                                    totpUri:
                                        type: string
                                        format: uri
                                        description: |
                                            otpauth:// URI for TOTP factors.
                                            Can be encoded as a QR code for authenticator apps.
                                        example: "otpauth://totp/Pistachio:user@example.com?secret=JBSWY3DPEHPK3PXP&issuer=Pistachio"
                                    challengeId:
                                        type: string
                                        description: |
                                            Challenge ID for SMS/email factors.
                                            A verification code was sent to the phone/email.
                                        example: challenge-xyz789
                '400':
                    description: Invalid request
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '409':
                    description: Factor type already enrolled
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/mfa/factors/{factorId}:
        get:
            operationId: getMfaFactor
            summary: Get an MFA factor
            description: |
                Gets details about a specific MFA factor.
            tags:
                - MFA
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            parameters:
                - name: factorId
                  in: path
                  description: The MFA factor ID
                  required: true
                  schema:
                    type: string
            responses:
                '200':
                    description: MFA factor details
                    content:
                        application/json:
                            schema:
                                type: object
                                description: An MFA factor enrolled by the user.
                                properties:
                                    factorId:
                                        type: string
                                        description: Unique factor identifier.
                                        example: factor-abc123
                                    factorType:
                                        type: string
                                        enum:
                                            - TOTP
                                            - SMS
                                            - EMAIL
                                        description: The type of MFA factor.
                                        example: TOTP
                                    displayName:
                                        type:
                                            - string
                                            - 'null'
                                        description: User-provided name for the factor.
                                        example: My Authenticator
                                    verified:
                                        type: boolean
                                        description: Whether the factor has been verified.
                                        example: true
                                    createdAt:
                                        type: string
                                        format: date-time
                                        description: When the factor was enrolled.
                                        example: "2024-01-15T10:30:00Z"
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '404':
                    description: Factor not found
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
        delete:
            operationId: deleteMfaFactor
            summary: Delete an MFA factor
            description: |
                Unenrolls an MFA factor from the authenticated user's account.
            tags:
                - MFA
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            parameters:
                - name: factorId
                  in: path
                  description: The MFA factor ID to delete
                  required: true
                  schema:
                    type: string
            responses:
                '204':
                    description: Factor deleted
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '404':
                    description: Factor not found
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/mfa/factors/{factorId}/verify:
        post:
            operationId: verifyMfaFactor
            summary: Verify an MFA factor
            description: |
                Verifies an MFA factor during enrollment using the verification code.
            tags:
                - MFA
            security:
                - ApiKeyAuth: []
                  BearerAuth: []
            parameters:
                - name: factorId
                  in: path
                  description: The MFA factor ID to verify
                  required: true
                  schema:
                    type: string
            requestBody:
                description: Verification parameters
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for verifying an MFA factor during enrollment.
                            required:
                                - code
                            properties:
                                code:
                                    type: string
                                    description: |
                                        The verification code.
                                        For TOTP: current 6-digit code from authenticator app.
                                        For SMS/email: the code sent to the phone/email.
                                    pattern: '^\d{6}$'
                                    example: "123456"
            responses:
                '200':
                    description: Factor verified
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response confirming factor verification.
                                properties:
                                    verified:
                                        type: boolean
                                        description: Whether the factor was successfully verified.
                                        example: true
                                    factor:
                                        type: object
                                        description: An MFA factor enrolled by the user.
                                        properties:
                                            factorId:
                                                type: string
                                                description: Unique factor identifier.
                                                example: factor-abc123
                                            factorType:
                                                type: string
                                                enum:
                                                    - TOTP
                                                    - SMS
                                                    - EMAIL
                                                description: The type of MFA factor.
                                                example: TOTP
                                            displayName:
                                                type:
                                                    - string
                                                    - 'null'
                                                description: User-provided name for the factor.
                                                example: My Authenticator
                                            verified:
                                                type: boolean
                                                description: Whether the factor has been verified.
                                                example: true
                                            createdAt:
                                                type: string
                                                format: date-time
                                                description: When the factor was enrolled.
                                                example: "2024-01-15T10:30:00Z"
                '400':
                    description: Invalid verification code
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '401':
                    description: Invalid or missing credentials
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '404':
                    description: Factor not found
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
    /auth/mfa/factors/{factorId}/challenge:
        post:
            operationId: challengeMfaFactor
            summary: Create an MFA challenge
            description: |
                Creates a challenge for an MFA factor during sign-in.
                For SMS/email factors, this sends the verification code.
            tags:
                - MFA
            security:
                - ApiKeyAuth: []
            parameters:
                - name: factorId
                  in: path
                  description: The MFA factor ID to challenge
                  required: true
                  schema:
                    type: string
            requestBody:
                description: Challenge parameters
                required: false
                content:
                    application/json:
                        schema:
                            type: object
                            description: Request body for initiating an MFA challenge.
                            required:
                                - recaptchaToken
                            properties:
                                recaptchaToken:
                                    type: string
                                    description: |
                                        reCAPTCHA token required for bot protection when sending SMS/email codes.
            responses:
                '200':
                    description: Challenge created
                    content:
                        application/json:
                            schema:
                                type: object
                                description: Response containing the MFA challenge.
                                properties:
                                    challengeId:
                                        type: string
                                        description: |
                                            Challenge ID to use when verifying.
                                            For SMS/email factors, a code was sent.
                                        example: challenge-xyz789
                                    expiresAt:
                                        type: string
                                        format: date-time
                                        description: When the challenge expires.
                                        example: "2024-01-15T10:35:00Z"
                '400':
                    description: Invalid request
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '404':
                    description: Factor not found
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '429':
                    description: Too many challenge attempts
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                '500':
                    description: Internal server error
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/internal
                                title: Internal Server Error
                                status: 500
                                detail: An unexpected error occurred. Please try again later.
                '503':
                    description: Service temporarily unavailable
                    content:
                        application/json:
                            schema:
                                type: object
                                description: RFC 7807 Problem Details error response
                                properties:
                                    type:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the problem type
                                        example: https://docs.pistachiohq.com/errors/not_found
                                    title:
                                        type: string
                                        description: A short, human-readable summary of the problem type
                                        example: Project not found
                                    status:
                                        type: integer
                                        description: The HTTP status code
                                        example: 404
                                    detail:
                                        type: string
                                        description: A human-readable explanation specific to this occurrence
                                        example: Project 'my-project' not found
                                    instance:
                                        type: string
                                        format: uri
                                        description: A URI reference that identifies the specific occurrence
                                        example: /admin/v1/projects/my-project
                                    invalidParams:
                                        type: array
                                        description: |
                                            Extension member for validation errors. Contains details about which
                                            parameters failed validation and why.
                                        items:
                                            type: object
                                            description: Details about an invalid parameter in a validation error
                                            properties:
                                                name:
                                                    type: string
                                                    description: The name of the invalid parameter
                                                    example: sort
                                                reason:
                                                    type: string
                                                    description: A human-readable explanation of why the parameter is invalid
                                                    example: Invalid value
                                                value:
                                                    type: string
                                                    description: The invalid value that was provided
                                                    example: foo
                                                expectedValues:
                                                    type: array
                                                    description: The list of valid/expected values for this parameter
                                                    items:
                                                        type: string
                                                    example: ["project_id", "created_at", "display_name"]
                                            required:
                                                - name
                                                - reason
                                required:
                                    - type
                                    - title
                                    - status
                            example:
                                type: https://docs.pistachiohq.com/errors/unavailable
                                title: Service Unavailable
                                status: 503
                                detail: The service is temporarily unavailable. Please try again later.
components:
    securitySchemes:
        ApiKeyAuth:
            type: apiKey
            in: query
            name: key
            description: API key for client SDK operations. API keys are auto-generated per app and identify the project.
        BearerAuth:
            type: http
            scheme: bearer
            bearerFormat: JWT
            description: ID token (JWT) for authenticated operations. Obtained via sign-in and must be included in the Authorization header.
        ServiceAccountAuth:
            type: http
            scheme: bearer
            bearerFormat: JWT
            description: Service account credential for admin operations.
