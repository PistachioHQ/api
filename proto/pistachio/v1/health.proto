syntax = "proto3";

package pistachio.v1;

import "buf/validate/validate.proto";

// CheckRequest is the request message for health checks.
message CheckRequest {
  // The service name to check. If empty, checks the overall service health.
  string service = 1 [(buf.validate.field).string.max_len = 256];
}

// CheckResponse contains the result of a health check.
message CheckResponse {
  // ServingStatus indicates whether the service is healthy.
  ServingStatus status = 1;
}

// ServingStatus represents the health state of a service.
enum ServingStatus {
  // SERVING_STATUS_UNSPECIFIED indicates the status is unknown.
  SERVING_STATUS_UNSPECIFIED = 0;
  // SERVING_STATUS_SERVING indicates the service is healthy and serving.
  SERVING_STATUS_SERVING = 1;
  // SERVING_STATUS_NOT_SERVING indicates the service is unhealthy.
  SERVING_STATUS_NOT_SERVING = 2;
}
