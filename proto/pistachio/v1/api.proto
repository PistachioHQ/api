syntax = "proto3";

package pistachio.v1;

import "pistachio/v1/auth.proto";
import "pistachio/v1/health.proto";

// =============================================================================
// Authentication Service
// =============================================================================
//
// Authentication provides client authentication and user identity endpoints
// Path: /v1/accounts:*
// Requires API key
service AuthService {
  // ValidateApiKey validates that the provided API key is valid.
  rpc ValidateApiKey(ValidateApiKeyRequest) returns (ValidateApiKeyResponse);

  // ValidateToken validates that the provided bearer token is valid.
  rpc ValidateToken(ValidateTokenRequest) returns (ValidateTokenResponse);

  // ValidateServiceAccount validates that the provided service account credential is valid.
  rpc ValidateServiceAccount(ValidateServiceAccountRequest) returns (ValidateServiceAccountResponse);
}

// HealthService provides health check endpoints for the Pistachio API.
service HealthService {
  // Check returns the health status of the service.
  rpc Check(CheckRequest) returns (CheckResponse);
}
